<div class="dashboard">
  <div class="container">
    <header class="dashboard-header fade-in">
      <div>
        <h1>Welcome back, {{ user()?.firstName }}</h1>
        <p class="text-muted">Your personalized property space</p>
      </div>
      <a routerLink="/globe" class="btn btn-primary">Explore Globe</a>
    </header>

    <div class="dashboard-grid slide-up">
      <section class="dashboard-section">
        <div class="section-header seam">
          <h2>Saved Properties</h2>
          <a routerLink="/watchlist" class="btn btn-ghost">View All</a>
        </div>
        
        <div class="properties-grid">
          @for (property of savedProperties(); track property.id) {
            <a class="property-card card" [routerLink]="['/properties', property.id]">
              <div class="property-image">
                <img [src]="property.image" [alt]="property.title" />
              </div>
              <div class="property-info">
                <h3>{{ property.title }}</h3>
                <p class="text-small text-muted">{{ property.location }}</p>
              </div>
            </a>
          } @empty {
            <p class="text-muted">No saved properties yet</p>
          }
        </div>
      </section>

      <section class="dashboard-section">
        <div class="section-header seam">
          <h2>Recently Viewed</h2>
        </div>
        
        <div class="recent-list">
          @for (item of recentlyViewed(); track item.id) {
            <div class="recent-item">
              <div>
                <h4>{{ item.title }}</h4>
                <p class="text-small text-muted">{{ item.location }}</p>
              </div>
              <a [routerLink]="['/properties', item.id]" class="btn btn-ghost">View</a>
            </div>
          } @empty {
            <p class="text-muted">No recent views</p>
          }
        </div>
      </section>

      <section class="dashboard-section">
        <div class="section-header seam">
          <h2>Quick Actions</h2>
        </div>
        
        <div class="actions-grid">
          <a routerLink="/globe" class="action-card card">
            <h3>Explore Globe</h3>
            <p class="text-small">Navigate properties in 3D space</p>
          </a>
          <a routerLink="/properties" class="action-card card">
            <h3>Browse Listings</h3>
            <p class="text-small">View all available properties</p>
          </a>
          <a routerLink="/watchlist" class="action-card card">
            <h3>Watchlist</h3>
            <p class="text-small">Track saved properties and changes</p>
          </a>
          <a routerLink="/dashboard/profile" class="action-card card">
            <h3>Profile Settings</h3>
            <p class="text-small">Manage your preferences</p>
          </a>
        </div>
      </section>
    </div>
  </div>
</div>
